# ğŸš€ K8s Resource Scheduler Based on Graph Search Algorithm  

## ğŸ“Œ é¡¹ç›®ç®€ä»‹  
æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª **åŸºäºå›¾æœç´¢ç®—æ³•** çš„ **Kubernetes èµ„æºè°ƒåº¦ç³»ç»Ÿ**ï¼Œä½¿ç”¨ **Dijkstra ç®—æ³•** å’Œ **Floyd ç®—æ³•** è¿›è¡Œ **é›†ç¾¤èµ„æºå‘ç°**ã€‚  
é¡¹ç›®å°† **é›†ç¾¤å†…çš„èµ„æºè§†ä¸ºå›¾çš„èŠ‚ç‚¹**ï¼Œ**èµ„æºä¹‹é—´çš„å…³ç³»è§†ä¸ºå›¾çš„è¾¹**ï¼Œå½¢æˆä¸€ä¸ª **æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰** è¿›è¡Œæœ€ä¼˜èµ„æºåˆ†é…ã€‚  

### **æ”¯æŒçš„èµ„æºç±»å‹**
- **FPGA**
- **GPU**
- **DPU**
- **è‡ªå®šä¹‰èµ„æºï¼ˆå¦‚ Colaï¼‰**

---

## ğŸ¯ é¡¹ç›®æ ¸å¿ƒé€»è¾‘
1. **èµ„æºè¯·æ±‚** â†’ é€šè¿‡ `curl` æäº¤å®¹å™¨åŠèµ„æºéœ€æ±‚  
2. **èµ„æºå›¾æ„å»º** â†’ è§£æ Kubernetes èµ„æºï¼Œæ„å»º **å›¾ç»“æ„**  
3. **è·¯å¾„è®¡ç®—** â†’ ä½¿ç”¨ **Dijkstra** ç®—æ³•è®¡ç®— **æœ€ä¼˜èµ„æºè·¯å¾„**  
4. **èµ„æºåˆ†é…** â†’ åˆ†é…è®¡ç®—å‡ºçš„ **æœ€ä¼˜ç»„åˆ**  

---

## ğŸ›  API æ¥å£
### **è·å–æœ€ä¼˜èµ„æºåˆ†é…**
**è¯·æ±‚æ–¹å¼**ï¼š`POST`  
**è¯·æ±‚è·¯å¾„**ï¼š`/getResource/master`  

**è¯·æ±‚ç¤ºä¾‹**
```bash
curl -X POST http://localhost:8080/getResource/master \
     -H "Content-Type: application/json" \
     -d '[{"name": "container1", "resourceQuantity": {"nvidia.com/gpu": 1, "fpga": 1, "myway5.com/cola": 4}}, 
          {"name": "container2", "resourceQuantity": {"nvidia.com/gpu": 1, "fpga": 1, "myway5.com/cola": 2}}]'
```

é€šè¿‡è¿ªæ°æ–¯ç®—æ³•å¾—åˆ°ä¸€ä¸ªæœ€ä¼˜ç»„åˆï¼Œä¸»è¦æ˜¯è®¡ç®—ä¸åŒç»„åˆçš„å¾—åˆ†è®¡ç®—å¾—åˆ†æœ€å°çš„ç»„åˆï¼Œä»£è¡¨äº†è¿™ä¸€ç»„èµ„æºè·å–çš„è·¯å¾„æœ€å°ã€‚ä¸‹å›¾ä¸ºå®é™…çš„è¿è¡Œç»“æœç¤ºæ„ã€‚
![ad7122589e06d03b865c84a28ff9e6c](https://github.com/user-attachments/assets/551ed513-10ff-4acc-9a93-ab38d8c3d1b7)

---
## æ„å»ºæ–¹å¼
1. æ‰§è¡Œ`make docker` ç¼–è¯‘æ„å»ºé•œåƒã€‚
2. æ‰§è¡Œ`bash ./tools/upload.sh` å°†dockeré•œåƒä¸Šä¼ åˆ°æœ¬åœ°containerdä»“åº“ä¸­
3. æ‰§è¡Œ`kubectl apply -f deployment.yaml` åº”ç”¨æ–‡ä»¶éƒ¨ç½²æœåŠ¡ï¼Œéœ€è¦é…ç½®å¯¹åº”çš„rbacç¡®ä¿ç¡¬ä»¶èµ„æºçš„å‘ç°ã€‚
